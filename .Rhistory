## ---- Pre material ------------------------------
# 使用package
suppressMessages(library(readxl))
suppressMessages(library(dplyr))
suppressMessages(library(data.table))
suppressMessages(library(kableExtra))
suppressMessages(library(curl))
suppressMessages(library(tidyverse))
suppressMessages(library(plotly))
suppressMessages(library(ggrepel))
suppressMessages(library(magrittr))
suppressMessages(library(xtable))
# load("../ScreenEnd.RData")
load("ScreenEnd.RData")
options(digits = 5)              # Modify global options
## ----sink example  ------------------------------
# ____  _       _      _____
# / ___|(_)_ __ | | __ | ____|_  __
# \___ \| | '_ \| |/ / |  _| \ \/ /
#  ___) | | | | |   <  | |___ >  <
# |____/|_|_| |_|_|\_\ |_____/_/\_\
# ref for Q and A
# https://stackoverflow.com/questions/33994194/changing-the-font-size-of-table-using-print-xtable
# print(xtable(results), only.contents=TRUE, include.rownames=F,        include.colnames=T, floating=F,       hline.after=NULL, size="\\fontsize{9pt}{10pt}\\selectfont",       file = '~/Dropbox/Paper/table.tex')
## ----sink example  ------------------------------
## ----tex file sink example ------------------------------
# table tex saving folder
path="./final_report-kenko(和歌山県)/table/"
# table tex file name
file="example.tex"
sink(file = paste0(path, file))
xtable(iris[1:5, ], label = "tablelabel", caption = c(
"$\\beta_0
X_1+
\\beta_0 X_2$
寿命", "bbb")) %>% print(size="\\tiny")
sink()
# # -----------------　total variable # -----------------
#  _____     _        _  __     __    _           _     _
# |_   _|__ | |_ __ _| | \ \   / /_ _(_)_ __ __ _| |__ | | ___
#   | |/ _ \| __/ _` | |  \ \ / / _` | | '__/ _` | '_ \| |/ _ \
#   | | (_) | || (_| | |   \ V / (_| | | | | (_| | |_) | |  __/
#   |_|\___/ \__\__,_|_|    \_/ \__,_|_|_|  \__,_|_.__/|_|\___|
# # -----------------　total variable # -----------------
library(xtable)
# table 変数リスト
d_common1 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common2 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common3 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[51:75, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common4 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[76:98, ] %>%
rbind(c(NA, NA), c(NA, NA)) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_common1, d_common2[-11,], d_common3, d_common4) %>% select(2,4,6,8)
file="table_commom_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_common1 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common2 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common3 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[51:75, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common4 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[76:98, ] %>%
rbind(c(NA, NA), c(NA, NA)) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_common1, d_common2[-11,], d_common3, d_common4) %>% select(2,4,6,8) %>%
xtable(label = "table_commom_d.tex",
caption = c("共通変数(98個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_commom_d.tex" > "table_commom_d1.tex";
rm table_commom_d.tex;
mv table_commom_d1.tex table_commom_d.tex;
python3 ../../exex.py "table_commom_d.tex" "temp.tex";
mv "temp.tex" "table_commom_d.tex"
')
rm(d_common1,d_common2,d_common3,d_common4)
# # -----------------　Var MF # -----------------
# __     ___    ____    __  __ _____
# \ \   / / \  |  _ \  |  \/  |  ___|
#  \ \ / / _ \ | |_) | | |\/| | |_
#   \ V / ___ \|  _ <  | |  | |  _|
#    \_/_/   \_\_| \_\ |_|  |_|_|
# # -----------------　Var MF # -----------------
library(xtable)
# table 変数リスト
d_mf
d_mf1 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-15,], d_mf2, d_mf3) %>% select(2,4,6)
file="table_mf_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_mf1 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-15,], d_mf2, d_mf3) %>% select(2,4,6) %>%
xtable(label = "table_mf_d.tex",
caption = c("性別変数(64個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_mf_d.tex" > "table_mf_d1.tex";
rm table_mf_d.tex;
mv table_mf_d1.tex table_mf_d.tex;
python3 ../../exex.py "table_mf_d.tex" "temp.tex";
mv "temp.tex" "table_mf_d.tex"
')
rm(d_mf1,d_mf2,d_mf3)
d_mf1 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf1
library(xtable)
# table 変数リスト
d_mf
d_mf1 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6)
file="table_mf_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_mf1 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6) %>%
xtable(label = "table_mf_d.tex",
caption = c("性別変数(64個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_mf_d.tex" > "table_mf_d1.tex";
rm table_mf_d.tex;
mv table_mf_d1.tex table_mf_d.tex;
python3 ../../exex.py "table_mf_d.tex" "temp.tex";
mv "temp.tex" "table_mf_d.tex"
')
rm(d_mf1,d_mf2,d_mf3)
library(xtable)
# table 変数リスト
d_mf
d_mf1 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6)
d_mf1
d_mf1 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(21, 22)] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf
d_mf1 <- d_mf[, 7:70] %>% .[, -c(21, 22)]
load("ScreenEnd.RData")
d_mf[, 7:70] %>% .[, -c(21, 22)]
## ---- Pre material ------------------------------
# |  _ \ _ __ ___|  \/  | __ _| |_ ___ _ __(_) __ _| |
# | |_) | '__/ _ \ |\/| |/ _` | __/ _ \ '__| |/ _` | |
# |  __/| | |  __/ |  | | (_| | ||  __/ |  | | (_| | |
# |_|   |_|  \___|_|  |_|\__,_|\__\___|_|  |_|\__,_|_|
## ---- Pre material ------------------------------
# 使用package
suppressMessages(library(readxl))
suppressMessages(library(dplyr))
suppressMessages(library(data.table))
suppressMessages(library(kableExtra))
suppressMessages(library(curl))
suppressMessages(library(tidyverse))
suppressMessages(library(plotly))
suppressMessages(library(ggrepel))
suppressMessages(library(magrittr))
suppressMessages(library(xtable))
# load("../ScreenEnd.RData")
load("ScreenEnd.RData")
options(digits = 5)              # Modify global options
## ----sink example  ------------------------------
# ____  _       _      _____
# / ___|(_)_ __ | | __ | ____|_  __
# \___ \| | '_ \| |/ / |  _| \ \/ /
#  ___) | | | | |   <  | |___ >  <
# |____/|_|_| |_|_|\_\ |_____/_/\_\
# ref for Q and A
# https://stackoverflow.com/questions/33994194/changing-the-font-size-of-table-using-print-xtable
# print(xtable(results), only.contents=TRUE, include.rownames=F,        include.colnames=T, floating=F,       hline.after=NULL, size="\\fontsize{9pt}{10pt}\\selectfont",       file = '~/Dropbox/Paper/table.tex')
## ----sink example  ------------------------------
## ----tex file sink example ------------------------------
# table tex saving folder
path="./final_report-kenko(和歌山県)/table/"
# table tex file name
file="example.tex"
sink(file = paste0(path, file))
xtable(iris[1:5, ], label = "tablelabel", caption = c(
"$\\beta_0
X_1+
\\beta_0 X_2$
寿命", "bbb")) %>% print(size="\\tiny")
sink()
# # -----------------　total variable # -----------------
#  _____     _        _  __     __    _           _     _
# |_   _|__ | |_ __ _| | \ \   / /_ _(_)_ __ __ _| |__ | | ___
#   | |/ _ \| __/ _` | |  \ \ / / _` | | '__/ _` | '_ \| |/ _ \
#   | | (_) | || (_| | |   \ V / (_| | | | | (_| | |_) | |  __/
#   |_|\___/ \__\__,_|_|    \_/ \__,_|_|_|  \__,_|_.__/|_|\___|
# # -----------------　total variable # -----------------
library(xtable)
# table 変数リスト
d_common1 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common2 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common3 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[51:75, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common4 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[76:98, ] %>%
rbind(c(NA, NA), c(NA, NA)) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_common1, d_common2[-11,], d_common3, d_common4) %>% select(2,4,6,8)
file="table_commom_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_common1 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common2 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common3 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[51:75, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common4 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[76:98, ] %>%
rbind(c(NA, NA), c(NA, NA)) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_common1, d_common2[-11,], d_common3, d_common4) %>% select(2,4,6,8) %>%
xtable(label = "table_commom_d.tex",
caption = c("共通変数(98個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_commom_d.tex" > "table_commom_d1.tex";
rm table_commom_d.tex;
mv table_commom_d1.tex table_commom_d.tex;
python3 ../../exex.py "table_commom_d.tex" "temp.tex";
mv "temp.tex" "table_commom_d.tex"
')
rm(d_common1,d_common2,d_common3,d_common4)
# # -----------------　Var MF # -----------------
# __     ___    ____    __  __ _____
# \ \   / / \  |  _ \  |  \/  |  ___|
#  \ \ / / _ \ | |_) | | |\/| | |_
#   \ V / ___ \|  _ <  | |  | |  _|
#    \_/_/   \_\_| \_\ |_|  |_|_|
# # -----------------　Var MF # -----------------
library(xtable)
# table 変数リスト
d_mf
d_mf1 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6)
file="table_mf_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_mf1 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[51:64, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6) %>%
xtable(label = "table_mf_d.tex",
caption = c("性別変数(64個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_mf_d.tex" > "table_mf_d1.tex";
rm table_mf_d.tex;
mv table_mf_d1.tex table_mf_d.tex;
python3 ../../exex.py "table_mf_d.tex" "temp.tex";
mv "temp.tex" "table_mf_d.tex"
')
d_mf1
View(d_mf1)
View(d_mf3)
View(d_mf1)
## ---- Pre material ------------------------------
# |  _ \ _ __ ___|  \/  | __ _| |_ ___ _ __(_) __ _| |
# | |_) | '__/ _ \ |\/| |/ _` | __/ _ \ '__| |/ _` | |
# |  __/| | |  __/ |  | | (_| | ||  __/ |  | | (_| | |
# |_|   |_|  \___|_|  |_|\__,_|\__\___|_|  |_|\__,_|_|
## ---- Pre material ------------------------------
# 使用package
suppressMessages(library(readxl))
suppressMessages(library(dplyr))
suppressMessages(library(data.table))
suppressMessages(library(kableExtra))
suppressMessages(library(curl))
suppressMessages(library(tidyverse))
suppressMessages(library(plotly))
suppressMessages(library(ggrepel))
suppressMessages(library(magrittr))
suppressMessages(library(xtable))
# load("../ScreenEnd.RData")
load("ScreenEnd.RData")
options(digits = 5)              # Modify global options
## ----sink example  ------------------------------
# ____  _       _      _____
# / ___|(_)_ __ | | __ | ____|_  __
# \___ \| | '_ \| |/ / |  _| \ \/ /
#  ___) | | | | |   <  | |___ >  <
# |____/|_|_| |_|_|\_\ |_____/_/\_\
# ref for Q and A
# https://stackoverflow.com/questions/33994194/changing-the-font-size-of-table-using-print-xtable
# print(xtable(results), only.contents=TRUE, include.rownames=F,        include.colnames=T, floating=F,       hline.after=NULL, size="\\fontsize{9pt}{10pt}\\selectfont",       file = '~/Dropbox/Paper/table.tex')
## ----sink example  ------------------------------
## ----tex file sink example ------------------------------
# table tex saving folder
path="./final_report-kenko(和歌山県)/table/"
# table tex file name
file="example.tex"
sink(file = paste0(path, file))
xtable(iris[1:5, ], label = "tablelabel", caption = c(
"$\\beta_0
X_1+
\\beta_0 X_2$
寿命", "bbb")) %>% print(size="\\tiny")
sink()
# # -----------------　total variable # -----------------
#  _____     _        _  __     __    _           _     _
# |_   _|__ | |_ __ _| | \ \   / /_ _(_)_ __ __ _| |__ | | ___
#   | |/ _ \| __/ _` | |  \ \ / / _` | | '__/ _` | '_ \| |/ _ \
#   | | (_) | || (_| | |   \ V / (_| | | | | (_| | |_) | |  __/
#   |_|\___/ \__\__,_|_|    \_/ \__,_|_|_|  \__,_|_.__/|_|\___|
# # -----------------　total variable # -----------------
library(xtable)
# table 変数リスト
d_common1 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common2 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common3 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[51:75, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common4 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[76:98, ] %>%
rbind(c(NA, NA), c(NA, NA)) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_common1, d_common2[-11,], d_common3, d_common4) %>% select(2,4,6,8)
file="table_commom_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_common1 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common2 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common3 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[51:75, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_common4 <- d_common[, 7:104] %>% colnames() %>% enframe() %>% .[76:98, ] %>%
rbind(c(NA, NA), c(NA, NA)) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_common1, d_common2[-11,], d_common3, d_common4) %>% select(2,4,6,8) %>%
xtable(label = "table_commom_d.tex",
caption = c("共通変数(98個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_commom_d.tex" > "table_commom_d1.tex";
rm table_commom_d.tex;
mv table_commom_d1.tex table_commom_d.tex;
python3 ../../exex.py "table_commom_d.tex" "temp.tex";
mv "temp.tex" "table_commom_d.tex"
')
rm(d_common1,d_common2,d_common3,d_common4)
# # -----------------　Var MF # -----------------
# __     ___    ____    __  __ _____
# \ \   / / \  |  _ \  |  \/  |  ___|
#  \ \ / / _ \ | |_) | | |\/| | |_
#   \ V / ___ \|  _ <  | |  | |  _|
#    \_/_/   \_\_| \_\ |_|  |_|_|
# # -----------------　Var MF # -----------------
library(xtable)
# table 変数リスト
d_mf
d_mf1 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[51:62, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6)
file="table_mf_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_mf1 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[51:62, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6) %>%
xtable(label = "table_mf_d.tex",
caption = c("性別変数(64個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_mf_d.tex" > "table_mf_d1.tex";
rm table_mf_d.tex;
mv table_mf_d1.tex table_mf_d.tex;
python3 ../../exex.py "table_mf_d.tex" "temp.tex";
mv "temp.tex" "table_mf_d.tex"
')
rm(d_mf1,d_mf2,d_mf3)
file="table_mf_d.tex"
path="./final_report-kenko(和歌山県)/table/"
sink(file = paste0(path, file))
d_mf1 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[1:25, ] %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id,var_name_Jpn)
d_mf2 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[26:50, ]  %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
d_mf3 <- d_mf[, 7:70] %>% .[, -c(3, 4)] %>% colnames() %>% enframe() %>% .[51:62, ] %>%
rbind(
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA),
c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA), c(NA, NA)
) %>%
left_join(var, by=c("value"="var_name_Eng")) %>% select(id, var_name_Jpn)
bind_cols(d_mf1[-13,], d_mf2, d_mf3) %>% select(2,4,6) %>%
xtable(label = "table_mf_d.tex",
caption = c("性別変数(62個)"), digits=3) %>%
print(size = "\\tiny", caption.placement = "top")
sink()
system('
cd "./final_report-kenko(和歌山県)/table/";
sed -e "s/㎡/m$^2$/g" "table_mf_d.tex" > "table_mf_d1.tex";
rm table_mf_d.tex;
mv table_mf_d1.tex table_mf_d.tex;
python3 ../../exex.py "table_mf_d.tex" "temp.tex";
mv "temp.tex" "table_mf_d.tex"
')
rm(d_mf1,d_mf2,d_mf3)
system("open .")
